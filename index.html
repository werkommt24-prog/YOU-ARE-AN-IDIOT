<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8"/>
<title>you are an idiot ☻☻☻</title>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<style>
  :root{--bg-black:#000;--bg-white:#fff;--fg-white:#fff;--fg-black:#000}
  html,body{height:100%;margin:0;background:var(--bg-black);color:var(--fg-white);
    font-family:"Times New Roman",serif;display:flex;align-items:center;justify-content:center;user-select:none}
  h1{font-size:84px;margin:0;font-weight:normal;text-align:center}
  .smiles{display:flex;gap:36px;justify-content:center;margin-top:28px}
  .smile{width:120px;height:120px;border:4px solid var(--fg-white);border-radius:50%;
    position:relative;display:flex;align-items:center;justify-content:center;box-sizing:border-box;background:transparent}
  /* Augen größer und mit Kontur, bleiben sichtbar auf hellem Hintergrund */
  .eye{position:absolute;top:34px;width:18px;height:18px;background:var(--fg-white);border-radius:50%;
    box-shadow:0 0 0 2px rgba(0,0,0,0)} /* shadow placeholder */
  .eye.left{left:30px}.eye.right{right:30px}
  .mouth-svg{position:absolute;bottom:22px;left:50%;transform:translateX(-50%);width:80px;height:36px;overflow:visible}
  #clickCatcher{position:fixed;inset:0;background:transparent;border:0;cursor:pointer;z-index:999}
  /* Invert helper applied dynamically via JS */
</style>
</head>
<body>
  <div>
    <h1>you are an idiot</h1>
    <div class="smiles">
      <div class="smile">
        <div class="eye left"></div>
        <div class="eye right"></div>
        <svg class="mouth-svg" viewBox="0 0 56 28" preserveAspectRatio="xMidYMid meet" aria-hidden="true">
          <path class="mouth-path" d="M6,8 C16,22 40,22 50,8" fill="none" stroke="#fff" stroke-width="4" stroke-linecap="round"/>
        </svg>
      </div>
      <div class="smile">
        <div class="eye left"></div>
        <div class="eye right"></div>
        <svg class="mouth-svg" viewBox="0 0 56 28" preserveAspectRatio="xMidYMid meet" aria-hidden="true">
          <path class="mouth-path" d="M6,8 C16,22 40,22 50,8" fill="none" stroke="#fff" stroke-width="4" stroke-linecap="round"/>
        </svg>
      </div>
      <div class="smile">
        <div class="eye left"></div>
        <div class="eye right"></div>
        <svg class="mouth-svg" viewBox="0 0 56 28" preserveAspectRatio="xMidYMid meet" aria-hidden="true">
          <path class="mouth-path" d="M6,8 C16,22 40,22 50,8" fill="none" stroke="#fff" stroke-width="4" stroke-linecap="round"/>
        </svg>
      </div>
    </div>
  </div>

  <button id="clickCatcher" aria-hidden="true" title="Klick zum Start"></button>

  <audio id="idiotSound" loop preload="auto">
    <source src="https://files.catbox.moe/pnlmyb.mp3" type="audio/mpeg">
  </audio>

<script>
(function(){
  const clickCatcher = document.getElementById('clickCatcher');
  const audio = document.getElementById('idiotSound');
  let flackerInterval = null;
  const FLACKER_MS = 400;
  let isBlack = true;

  function applyColors(bgIsBlack){
    const bg = bgIsBlack ? '#000' : '#fff';
    const fg = bgIsBlack ? '#fff' : '#000';
    document.documentElement.style.background = bg;
    document.body.style.background = bg;
    document.body.style.color = fg;
    document.querySelectorAll('.smile').forEach(s=>{
      s.style.borderColor = fg;
      s.querySelectorAll('.eye').forEach(e=> e.style.background = fg);
      const p = s.querySelector('.mouth-path');
      if(p) p.setAttribute('stroke', fg);
    });
  }

  function startFlackernOnce(){
    if (flackerInterval) return;
    applyColors(isBlack);
    flackerInterval = setInterval(()=>{
      isBlack = !isBlack;
      applyColors(isBlack);
    }, FLACKER_MS);
  }

  // robustes Popup-Open mit Fallback auf temporären Anchor click (vermeidet manche Blocker)[43dcd9a7-70db-4a1f-b0ae-981daa162054](https://stackoverflow.com/questions/79776082/how-can-i-detect-if-a-browser-is-blocking-a-new-tab-or-popup-when-using-window?citationMarker=43dcd9a7-70db-4a1f-b0ae-981daa162054 "1")
  function openWithFallback(url, name, w, h){
    const left = Math.floor(Math.random()*300);
    const top = Math.floor(Math.random()*200);
    const features = `width=${w},height=${h},left=${left},top=${top}`;
    const win = window.open(url || "", name || "", features);
    if (win) return win;
    // Fallback: create temporary anchor and click it (some blockers allow a user-initiated navigation)[43dcd9a7-70db-4a1f-b0ae-981daa162054](https://stackoverflow.com/questions/79776082/how-can-i-detect-if-a-browser-is-blocking-a-new-tab-or-popup-when-using-window?citationMarker=43dcd9a7-70db-4a1f-b0ae-981daa162054 "1")
    const a = document.createElement('a');
    a.href = url || 'about:blank';
    a.target = name || '_blank';
    a.rel = 'noopener';
    a.style.display = 'none';
    document.body.appendChild(a);
    a.click();
    setTimeout(()=>document.body.removeChild(a), 1000);
    return null;
  }

  function openPopups(count = 6){
    for (let i=0;i<count;i++){
      const win = openWithFallback("", "_blank", 600, 400);
      if (!win) continue; // fallback may open in tab; if popup was blocked, nothing to script into
      // if we got a window reference, write identical layout (no audio tags)
      try {
        win.document.write(`<!doctype html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
          <title>you are an idiot</title>
          <style>
            html,body{height:100%;margin:0;background:#000;color:#fff;font-family:"Times New Roman",serif;display:flex;align-items:center;justify-content:center;user-select:none}
            h1{font-size:80px;margin:0;text-align:center}
            .smiles{display:flex;gap:36px;justify-content:center;margin-top:28px}
            .smile{width:100px;height:100px;border:4px solid #fff;border-radius:50%;position:relative;display:flex;align-items:center;justify-content:center;box-sizing:border-box}
            .eye{position:absolute;top:28px;width:16px;height:16px;background:#fff;border-radius:50%}
            .eye.left{left:26px}.eye.right{right:26px}
            .mouth-svg{position:absolute;bottom:18px;left:50%;transform:translateX(-50%);width:70px;height:32px;overflow:visible}
          </style></head><body>
            <div style="text-align:center"><h1>you are an idiot</h1>
            <div class="smiles">
              <div class="smile"><div class="eye left"></div><div class="eye right"></div>
                <svg class="mouth-svg" viewBox="0 0 56 28"><path class="mouth-path" d="M6,8 C16,22 40,22 50,8" fill="none" stroke="#fff" stroke-width="4" stroke-linecap="round"/></svg>
              </div>
              <div class="smile"><div class="eye left"></div><div class="eye right"></div>
                <svg class="mouth-svg" viewBox="0 0 56 28"><path class="mouth-path" d="M6,8 C16,22 40,22 50,8" fill="none" stroke="#fff" stroke-width="4" stroke-linecap="round"/></svg>
              </div>
              <div class="smile"><div class="eye left"></div><div class="eye right"></div>
                <svg class="mouth-svg" viewBox="0 0 56 28"><path class="mouth-path" d="M6,8 C16,22 40,22 50,8" fill="none" stroke="#fff" stroke-width="4" stroke-linecap="round"/></svg>
              </div>
            </div></div>
            <script>
              let localBlack = true;
              const FL = ${FLACKER_MS};
              setInterval(()=>{
                localBlack = !localBlack;
                const bg = localBlack ? 'black' : 'white';
                const fg = localBlack ? 'white' : 'black';
                document.body.style.background = bg;
                document.body.style.color = fg;
                document.querySelectorAll('.smile').forEach(s=>{
                  s.style.borderColor = fg;
                  s.querySelectorAll('.eye').forEach(e=> e.style.background = fg);
                  const p = s.querySelector('.mouth-path'); if(p) p.setAttribute('stroke', fg);
                });
              }, FL);
            <\/script></body></html>`);
        win.document.close();
      } catch(e){}
    }
  }

  function startOnce(){
    startFlackernOnce();
    audio.play().catch(()=>{});
    openPopups(6);
  }

  // single click starts everything — ensures popup open happens in user gesture context
  clickCatcher.addEventListener('click', function handler(){
    clickCatcher.removeEventListener('click', handler);
    clickCatcher.remove();
    startOnce();
  });
})();
</script>
</body>
</html>
